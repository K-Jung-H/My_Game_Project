유니티를 모방하여 게임 엔진 만들기



작업 완료

Scene 클래스를 작성하고 관리하는 구조를 완성

계층구조 Update 로직 작성 및 동작 테스트 완료

자주 쓰는 행렬 연산을 DXMathUtils.h 에 정리

모델 Load 방식 Assimp/FBX\_SDK 혼합 사용 적용

GameTimer 추가

입력을 저장, 처리하는 InputManager 구현

WindowMessage를 처리하는 플로우 완성

물리적 움직임(속력/가속도/충돌) 담당 RigidbodyComponent 구현 완료

입력에 따른 dt 기반 카메라 움직임 추가

Scene에 GameObject를 저장하는 컨테이너 역할 추가


무조건 ObjectManager를 통해 Object를 생성하도록 권한 설정 // ID 기반 관리 및 동시 생성 및 접근 대응




할 일:

- 그림자 추가하기
	- 택스쳐를 리소스 힙 주소영역 기반으로 바인딩 하는 방식을 활용하여, 기존 리소스 힙에 ShadowMap을 저장하는 고정 영역을 할당하고, 해당 영역을 바인딩 하기

- Composite Pass 에서 ShadowMap 뿐만 아니라, 조명 정보 배열을 함께 바인딩 해야 함
- 조명, 그림자 사이에 추가적인 연결 정보가 필요함
	- 해당 그림자는 어떤 조명과 연산 되어야 하는지
	- 조명이 사용하는 ShadowMap의 SRV 인덱스는 몇번인지 등등


진행 상황:
Point, Directional Light의 Cluster Lighting 연산 


문제점: 
- Point/Spot Light 결과가 카메라 회전에 따라 달라지고 있음
	- 카메라의 상/하 회전에 따라, 조명의 결과가 변화하는 중 + 카메라의 상/하 움직임에 따라 조명의 결과가 변화 하는 중 // 좌/우 움직임, 회전에는 영향 없음

- 문제가 발생하는 시점은 [ 카메라 -> 사물 <- 빛 ] 구도일 때 발생, 카메라에서 빛을 등진 사물을 바라보는 각도에서만 해당 문제가 발생하는 중


#문제 해결
- 원인: Composite 단계에서 월드 좌표 복원에 오류가 발생하고 있었음 
	접근 방법: 
		- Cluster, Light, Camera가 모두 정상적인 데이터가 들어오는 것을 랜더링으로 분석하여 확인함
		- 빛 연산을 PBR이 아닌 퐁 라이팅으로 테스트 하였으나, 동일한 문제 발생
		--> 조명 연산에 필요한 값을 복원하는 과정에서 발생하는 문제밖에 없음
	
	- 해결 방법: 
		- 기존 복원 단계에서 NDC 좌표계에서의 y 축 변환 추가
		- 복원 단계에서 사용하던 ViewProj 역행렬 적용이 아닌, Proj 역행렬, View 역행렬, 을 순차적으로 적용하여 복원



-------------------------------------

장기적 목표


* Object 생성 기능 추가하기 // Window 메뉴 박스 활용하기
* Shader 핫리로드 기능 추가하기




